<!doctype html>
<html lang="es">

<head>
    <title>Ejemplo tema 5</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.0.2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body>


    <h3>Control de forms mediante JS</h3>

    <div class="container-fluid">

        <form action="" id="formulario1" name="formulario1" class="form1" method="post">
            <div class="m-2" border-style="solid">
                <label for="nombre " class="form1 ">Nombre</label>
                <input type="text " name="nombre " id="nombre " class="form-text " placeholder="introduce nombre ">
                <br><br>
                <input id="1submit" type="submit" value="enviar" class="btn btn-secondary"></button>
            </div>
        </form>

        <form action="" method="post" id="formulario2" name="formulario2" class="form2">
            <div clas=" m-2 " borde-style="solid ">
                <label>Apellido1</label><input type="text " class="form-text m-2 " name="apellido1 " id="apellido1 " placeholder="introduce apellido ">
                <br>
                <label>Apellido2</label><input type="text " class="form-text m-2 " name="apellido1 " id="apellido1 " placeholder="introduce apellido ">
                <br><br>
                <button type="submit " class="btn btn-secondary ">Submit</button>
            </div>

        </form>
    </div>
    <script type="text/javascript">
        function EscribirForm() {
            let i = (Math.floor(Math.random() * 10)) % 2;
            console.log(i);
            document.getElementsByTagName("form")[0].elements[0].value = i;
            if (i == 0) {
                document.getElementsByTagName("form")[0].elements[0].value = "Introduce un nombre";
                ocument.getElementsByTagName("form")[0].elements[0].value = " a que esperas";
                document.getElementById("1submit").value = "Morfeo";
            } else {
                document.getElementsByTagName("form")[0].elements[0].value = " a que esperas";
                document.getElementById("1submit").value = "Pulsa para matrix"
            }
        }
        let myinterval = setInterval(EscribirForm, 1000);

        let boton1 = document.getElementById("1submit");
        boton1.addEventListener("click", matrix);
        let columns = []

        function matrix() {
            clearInterval(myinterval);
            document.forms[0].innerHTML = "<canvas id=canvas>"
                //Configura el canvas para que ocupe la pantalla entera 
            canvas.height = window.screen.height;
            canvas.width = window.screen.width;

            // una entrada en el array por columna de texto
            //cada valor represnta la posición y actual de la columna.  (en canvas 0 es en la parte superior y los valores positivos de y van disminuyendo)

            for (i = 0; i < 256; columns[i++] = 1);
            setInterval(step, 33);
        }
        //ejecutado una vez por fotograma
        function step() {
            //Ligeramente oscurece todo el canvas dibujando un rectángulo negro casi trasnsparente sobre todo el canvas
            /*esto explica tanto el flash inicial de blanco a negro (por defecto el canvas es blanco y progresivamente se convierte en negro) como el fading de los caracteres.*/
            canvas.getContext('2d').fillStyle = 'rgba(0,0,0,0.05)';
            canvas.getContext('2d').fillRect(0, 0, canvas.width, canvas.height);

            //verde
            canvas.getContext('2d').fillStyle = '#0F0';
            //para cada clolumna
            columns.map(function(value, index) {
                //fromCharCode convierte puntos de código unicode ( http://en.wikipedia.org/wiki/Code_point ) a un string
                //Los code points están en el rango 30000-30032 (0x7530-0x7550) (田-畐)
                //que está incluido en el bloque de ideogramas unificado CJK ( http://en.wikipedia.org/wiki/CJK_Unified_Ideographs )
                var character = String.fromCharCode(3e4 +
                    Math.random() * 33);
                //dibujar el carácter
                canvas.getContext('2d').fillText(character, //texto
                    index * 10, //x
                    value //y
                );

                //desplaza hacia abajo el carácter
                //si el carácter es menor de 758 entonces hay una posibilidad aleatoria de que sea reseteado
                columns[index] = value > 758 + Math.random() * 1e4 ? 0 : value + 10
            })
        }

        //1000/33 = ~30 veces por segundo
    </script>



    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js " integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p " crossorigin="anonymous "></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js " integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF " crossorigin="anonymous "></script>

</body>

</html>